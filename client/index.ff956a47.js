import{S as t,i as o,s as e,a,e as s,t as r,M as c,q as i,f as n,g as l,c as d,b as m,d as f,j as p,k as u,w as h,J as v,v as y,I as g,h as I,A as E,n as S,C as x,p as $,r as b,u as N,x as k}from"./client.91bc6273.js";import{M as j}from"./MotorcycleEdit.4d5499c8.js";import{g as J,d as M,m as O}from"./download.bcb9ad50.js";function q(t){let o,e,c,i,h,v,y,g,$,b;return{c(){o=s("h2"),e=r("Import from an existing file"),c=a(),i=s("div"),h=s("input"),v=a(),y=s("button"),g=r("Import"),this.h()},l(t){o=d(t,"H2",{});var a=m(o);e=f(a,"Import from an existing file"),a.forEach(n),c=l(t),i=d(t,"DIV",{class:!0});var s=m(i);h=d(s,"INPUT",{type:!0,class:!0,accept:!0}),v=l(s),y=d(s,"BUTTON",{type:!0,class:!0});var r=m(y);g=f(r,"Import"),r.forEach(n),s.forEach(n),this.h()},h(){I(h,"type","file"),I(h,"class","rounded-input largeSize svelte-1ktqo9x"),I(h,"accept","application/json"),I(y,"type","submit"),I(y,"class","smallSize svelte-1ktqo9x"),I(i,"class","horizontalForms svelte-1ktqo9x")},m(a,s){p(a,o,s),u(o,e),p(a,c,s),p(a,i,s),u(i,h),u(i,v),u(i,y),u(y,g),$||(b=[E(h,"change",t[4]),E(y,"click",t[3])],$=!0)},p:S,i:S,o:S,d(t){t&&n(o),t&&n(c),t&&n(i),$=!1,x(b)}}}function w(t){let o,e;return o=new j({props:{onSubmit:t[2],motorcycle:t[1]}}),{c(){$(o.$$.fragment)},l(t){b(o.$$.fragment,t)},m(t,a){N(o,t,a),e=!0},p(t,e){const a={};2&e&&(a.motorcycle=t[1]),o.$set(a)},i(t){e||(y(o.$$.fragment,t),e=!0)},o(t){h(o.$$.fragment,t),e=!1},d(t){k(o,t)}}}function F(t){let o,e,I,E,S,x,$,b,N,k,j;const J=[w,q],M=[];function O(t,o){return void 0!==t[1]?0:1}return b=O(t),N=M[b]=J[b](t),{c(){o=a(),e=s("h1"),I=r("Motorcycle Service Information"),E=a(),S=s("h1"),x=r("Editor"),$=a(),N.c(),k=c(),this.h()},l(t){i('[data-svelte="svelte-7t74km"]',document.head).forEach(n),o=l(t),e=d(t,"H1",{});var a=m(e);I=f(a,"Motorcycle Service Information"),a.forEach(n),E=l(t),S=d(t,"H1",{});var s=m(S);x=f(s,"Editor"),s.forEach(n),$=l(t),N.l(t),k=c(),this.h()},h(){document.title="Braap! - Editor"},m(t,a){p(t,o,a),p(t,e,a),u(e,I),p(t,E,a),p(t,S,a),u(S,x),p(t,$,a),M[b].m(t,a),p(t,k,a),j=!0},p(t,[o]){let e=b;b=O(t),b===e?M[b].p(t,o):(g(),h(M[e],1,1,()=>{M[e]=null}),v(),N=M[b],N||(N=M[b]=J[b](t),N.c()),y(N,1),N.m(k.parentNode,k))},i(t){j||(y(N),j=!0)},o(t){h(N),j=!1},d(t){t&&n(o),t&&n(e),t&&n(E),t&&n(S),t&&n($),M[b].d(t),t&&n(k)}}}function T(t,o,e){let a,s=[];return[s,a,function(){const t=J(a);M(t,O(a))},function(){if(s.length<=0)return!1;const t=new FileReader;t.onerror=function(t){alert("Failed to load the file")},t.onload=function(t){try{const o=JSON.parse(t.target.result);void 0===o.motorcycles||1!=o.motorcycles.length?alert("Invalid JSON file. Could not find the motorcycle list."):(e(1,a=o.motorcycles[0]),void 0!==a.name&&void 0!==a.description||(e(1,a=void 0),alert("Invalid JSON file. Could not find a valid motorcycle.")))}catch(t){alert("Failed to parse imported JSON file:",t)}},t.readAsText(s.item(0))},function(){s=this.files,e(0,s)}]}export default class extends t{constructor(t){super(),o(this,t,T,F,e,{})}}
