import{S as t,i as e,s as o,e as a,a as r,t as s,N as n,q as c,c as i,f as l,g as d,b as m,d as f,h as p,k as u,j as h,w as v,K as y,v as g,J as E,A as I,n as S,C as x,p as $,r as b,u as N,x as j}from"./client.a18bb448.js";import{M as k}from"./MotorcycleEdit.d0c40322.js";import{g as w,d as J,m as M}from"./download.bcb9ad50.js";function O(t){let e,o,n,c,v,y,g,E,$,b;return{c(){e=a("h2"),o=s("Import from an existing file"),n=r(),c=a("div"),v=a("input"),y=r(),g=a("button"),E=s("Import"),this.h()},l(t){e=i(t,"H2",{});var a=m(e);o=f(a,"Import from an existing file"),a.forEach(l),n=d(t),c=i(t,"DIV",{class:!0});var r=m(c);v=i(r,"INPUT",{type:!0,class:!0,accept:!0}),y=d(r),g=i(r,"BUTTON",{type:!0,class:!0});var s=m(g);E=f(s,"Import"),s.forEach(l),r.forEach(l),this.h()},h(){p(v,"type","file"),p(v,"class","rounded-input largeSize svelte-1ktqo9x"),p(v,"accept","application/json"),p(g,"type","submit"),p(g,"class","smallSize svelte-1ktqo9x"),p(c,"class","horizontalForms svelte-1ktqo9x")},m(a,r){h(a,e,r),u(e,o),h(a,n,r),h(a,c,r),u(c,v),u(c,y),u(c,g),u(g,E),$||(b=[I(v,"change",t[4]),I(g,"click",t[3])],$=!0)},p:S,i:S,o:S,d(t){t&&l(e),t&&l(n),t&&l(c),$=!1,x(b)}}}function T(t){let e,o;return e=new k({props:{onSubmit:t[2],motorcycle:t[1]}}),{c(){$(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,a){N(e,t,a),o=!0},p(t,o){const a={};2&o&&(a.motorcycle=t[1]),e.$set(a)},i(t){o||(g(e.$$.fragment,t),o=!0)},o(t){v(e.$$.fragment,t),o=!1},d(t){j(e,t)}}}function q(t){let e,o,I,S,x,$,b,N,j,k,w,J;const M=[T,O],q=[];function A(t,e){return void 0!==t[1]?0:1}return j=A(t),k=q[j]=M[j](t),{c(){e=a("meta"),o=r(),I=a("h1"),S=s("Motorcycle Service Information"),x=r(),$=a("h1"),b=s("Editor"),N=r(),k.c(),w=n(),this.h()},l(t){const a=c('[data-svelte="svelte-1wpvc4u"]',document.head);e=i(a,"META",{name:!0,content:!0}),a.forEach(l),o=d(t),I=i(t,"H1",{});var r=m(I);S=f(r,"Motorcycle Service Information"),r.forEach(l),x=d(t),$=i(t,"H1",{});var s=m($);b=f(s,"Editor"),s.forEach(l),N=d(t),k.l(t),w=n(),this.h()},h(){document.title="Braap! - Editor",p(e,"name","description"),p(e,"content","An editor for motorcycle service intervals")},m(t,a){u(document.head,e),h(t,o,a),h(t,I,a),u(I,S),h(t,x,a),h(t,$,a),u($,b),h(t,N,a),q[j].m(t,a),h(t,w,a),J=!0},p(t,[e]){let o=j;j=A(t),j===o?q[j].p(t,e):(E(),v(q[o],1,1,()=>{q[o]=null}),y(),k=q[j],k||(k=q[j]=M[j](t),k.c()),g(k,1),k.m(w.parentNode,w))},i(t){J||(g(k),J=!0)},o(t){v(k),J=!1},d(t){l(e),t&&l(o),t&&l(I),t&&l(x),t&&l($),t&&l(N),q[j].d(t),t&&l(w)}}}function A(t,e,o){let a,r=[];return[r,a,function(){const t=w(a);J(t,M(a))},function(){if(r.length<=0)return!1;const t=new FileReader;t.onerror=function(t){alert("Failed to load the file")},t.onload=function(t){try{const e=JSON.parse(t.target.result);void 0===e.motorcycles||1!=e.motorcycles.length?alert("Invalid JSON file. Could not find the motorcycle list."):(o(1,a=e.motorcycles[0]),void 0!==a.name&&void 0!==a.description||(o(1,a=void 0),alert("Invalid JSON file. Could not find a valid motorcycle.")))}catch(t){alert("Failed to parse imported JSON file:",t)}},t.readAsText(r.item(0))},function(){r=this.files,o(0,r)}]}export default class extends t{constructor(t){super(),e(this,t,A,q,o,{})}}
