import{_ as t,a as n,b as o,c as e,i as r,s as a,d as c,S as i,e as s,f,t as l,V as u,q as d,g as m,k as v,l as p,h,j as y,m as g,o as E,n as S,r as I,D as $,R as x,C as N,Q as R,H as b,u as j,J as k,z as J,A as M,B as O,E as T}from"./client.e9ad9d79.js";import{M as q}from"./MotorcycleEdit.0a3bd0cd.js";import{g as w,d as z,m as A}from"./download.f636f66d.js";function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,a=n(t);if(e){var c=n(this).constructor;r=Reflect.construct(a,arguments,c)}else r=a.apply(this,arguments);return o(this,r)}}function F(t){var n,o,e,r,a,c,i,u,d,I;return{c:function(){n=s("h2"),o=l("Import from an existing file"),e=f(),r=s("div"),a=s("input"),c=f(),i=s("button"),u=l("Import"),this.h()},l:function(t){n=m(t,"H2",{});var s=h(n);o=y(s,"Import from an existing file"),s.forEach(v),e=p(t),r=m(t,"DIV",{class:!0});var f=h(r);a=m(f,"INPUT",{type:!0,class:!0,accept:!0}),c=p(f),i=m(f,"BUTTON",{type:!0,class:!0});var l=h(i);u=y(l,"Import"),l.forEach(v),f.forEach(v),this.h()},h:function(){g(a,"type","file"),g(a,"class","rounded-input largeSize svelte-1ktqo9x"),g(a,"accept","application/json"),g(i,"type","submit"),g(i,"class","smallSize svelte-1ktqo9x"),g(r,"class","horizontalForms svelte-1ktqo9x")},m:function(s,f){S(s,n,f),E(n,o),S(s,e,f),S(s,r,f),E(r,a),E(r,c),E(r,i),E(i,u),d||(I=[b(a,"change",t[4]),b(i,"click",t[3])],d=!0)},p:j,i:j,o:j,d:function(t){t&&v(n),t&&v(e),t&&v(r),d=!1,k(I)}}}function H(t){var n,o;return n=new q({props:{onSubmit:t[2],motorcycle:t[1]}}),{c:function(){J(n.$$.fragment)},l:function(t){M(n.$$.fragment,t)},m:function(t,e){O(n,t,e),o=!0},p:function(t,o){var e={};2&o&&(e.motorcycle=t[1]),n.$set(e)},i:function(t){o||(N(n.$$.fragment,t),o=!0)},o:function(t){$(n.$$.fragment,t),o=!1},d:function(t){T(n,t)}}}function B(t){var n,o,e,r,a,c,i,b,j,k,J,M,O=[H,F],T=[];function q(t,n){return void 0!==t[1]?0:1}return j=q(t),k=T[j]=O[j](t),{c:function(){n=s("meta"),o=f(),e=s("h1"),r=l("Motorcycle Service Information"),a=f(),c=s("h1"),i=l("Editor"),b=f(),k.c(),J=u(),this.h()},l:function(t){var s=d('[data-svelte="svelte-1wpvc4u"]',document.head);n=m(s,"META",{name:!0,content:!0}),s.forEach(v),o=p(t),e=m(t,"H1",{});var f=h(e);r=y(f,"Motorcycle Service Information"),f.forEach(v),a=p(t),c=m(t,"H1",{});var l=h(c);i=y(l,"Editor"),l.forEach(v),b=p(t),k.l(t),J=u(),this.h()},h:function(){document.title="Braap! - Editor",g(n,"name","description"),g(n,"content","An editor for motorcycle service intervals")},m:function(t,s){E(document.head,n),S(t,o,s),S(t,e,s),E(e,r),S(t,a,s),S(t,c,s),E(c,i),S(t,b,s),T[j].m(t,s),S(t,J,s),M=!0},p:function(t,n){var o=I(n,1)[0],e=j;(j=q(t))===e?T[j].p(t,o):(R(),$(T[e],1,1,(function(){T[e]=null})),x(),(k=T[j])||(k=T[j]=O[j](t)).c(),N(k,1),k.m(J.parentNode,J))},i:function(t){M||(N(k),M=!0)},o:function(t){$(k),M=!1},d:function(t){v(n),t&&v(o),t&&v(e),t&&v(a),t&&v(c),t&&v(b),T[j].d(t),t&&v(J)}}}function C(t,n,o){var e,r=[];return[r,e,function(){var t=w(e);z(t,A(e))},function(){if(r.length<=0)return!1;var t=new FileReader;t.onerror=function(t){alert("Failed to load the file")},t.onload=function(t){try{var n=JSON.parse(t.target.result);void 0===n.motorcycles||1!=n.motorcycles.length?alert("Invalid JSON file. Could not find the motorcycle list."):(o(1,e=n.motorcycles[0]),void 0!==e.name&&void 0!==e.description||(o(1,e=void 0),alert("Invalid JSON file. Could not find a valid motorcycle.")))}catch(t){alert("Failed to parse imported JSON file:",t)}},t.readAsText(r.item(0))},function(){r=this.files,o(0,r)}]}var P=function(n){t(s,i);var o=D(s);function s(t){var n;return e(this,s),n=o.call(this),r(c(n),t,C,B,a,{}),n}return s}();export default P;
